"use client";
import { __rest, __assign } from '../_virtual/_tslib.js';
import classNames from '../external/classnames/index.js';
import React__default from 'react';
import { ChartTooltip, ChartLegend, ChartContextProvider, AutoSizedChartWrapper, DEFAULT_COLORS } from './charts.js';
import styles from './pie-chart.module.css.js';
import { Pie } from '../external/recharts/es6/polar/Pie.js';
import { Cell } from '../external/recharts/es6/component/Cell.js';
import { PieChart as PieChart$1 } from '../external/recharts/es6/chart/PieChart.js';

var PieChart = React__default.forwardRef(function PieChart(_a, ref) {
    var _b;
    _a.className; var category = _a.category, _c = _a.colors, colors = _c === void 0 ? DEFAULT_COLORS : _c, dark = _a.dark, data = _a.data, index = _a.index, _d = _a.tooltip, tooltip = _d === void 0 ? React__default.createElement(ChartTooltip, null) : _d, _e = _a.legend, legend = _e === void 0 ? React__default.createElement(ChartLegend, null) : _e, _f = _a.children, children = _f === void 0 ? (React__default.createElement(Pie, { className: classNames(styles.pie, (_b = {}, _b[styles.dark] = dark, _b)), data: data, cx: "50%", cy: "50%", startAngle: 90, endAngle: -270, innerRadius: "75%", isAnimationActive: false, outerRadius: "100%", dataKey: category, nameKey: index }, data.map(function (_, index) {
        return React__default.createElement(Cell, { key: index, fill: colors[index % colors.length] });
    }))) : _f, margin = _a.margin, otherProps = __rest(_a, ["className", "category", "colors", "dark", "data", "index", "tooltip", "legend", "children", "margin"]);
    return (React__default.createElement(ChartContextProvider, { categories: data.map(function (obj) { return obj[index]; }), colors: colors, dark: dark },
        React__default.createElement(AutoSizedChartWrapper, __assign({ ref: ref }, otherProps), function (_a) {
            var height = _a.height, width = _a.width;
            return (React__default.createElement(PieChart$1, { data: data, height: height, width: width, margin: margin },
                tooltip,
                legend,
                children));
        })));
});

export { PieChart };
